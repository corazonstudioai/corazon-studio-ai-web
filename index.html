<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>CorazÃ³n Studio AI</title>
<style>
body{font-family:Arial;background:#0f172a;color:white;padding:20px}
.box{background:#020617;padding:20px;border-radius:12px;margin-bottom:20px}
button,input,textarea,select{width:100%;padding:10px;margin-top:10px;border-radius:8px;border:none}
button{background:#2563eb;color:white}
</style>
</head>
<body>

<h1>ðŸŽ¬ CorazÃ³n Studio AI</h1>

<div class="box">
<h3>ðŸ’¬ Chat</h3>
<input id="chatInput" placeholder="Escribe tu mensaje">
<button onclick="sendChat()">Enviar</button>
<p id="chatResponse"></p>
</div>

<div class="box">
<h3>ðŸ–¼ Imagen</h3>
<input id="imageInput" placeholder="Describe la imagen">
<button onclick="generateImage()">Generar</button>
<img id="imageResult" style="width:100%;margin-top:10px">
</div>

<div class="box">
<h3>ðŸŽ¥ Video (Runway / Pika)</h3>

<select id="provider">
  <option value="runway">Runway</option>
  <option value="pika">Pika</option>
</select>

<textarea id="videoPrompt" placeholder="Describe el video"></textarea>
<button onclick="generateVideo()">Generar Video</button>

<pre id="videoResult"></pre>
</div>

<script>
const API_URL = "https://corazon-studio-ai-backend-3.onrender.com";

async function sendChat() {
  const r = await fetch(API_URL + "/chat", {
    method: "POST",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify({message: chatInput.value})
  });
  const d = await r.json();
  chatResponse.innerText = d.reply;
}

async function generateImage() {
  const r = await fetch(API_URL + "/image", {
    method: "POST",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify({prompt: imageInput.value})
  });
  const d = await r.json();
  imageResult.src = "data:image/png;base64," + d.data[0].b64_json;
}

async function generateVideo() {
  const r = await fetch(API_URL + "/video", {
    method: "POST",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify({
      provider: provider.value,
      prompt: videoPrompt.value,
      duration: 6
    })
  });
  const d = await r.json();
  videoResult.innerText = JSON.stringify(d, null, 2);
}
</script>

</body>
</html>

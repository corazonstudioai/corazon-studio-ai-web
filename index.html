<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Coraz√≥n Studio AI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      background: #0b1220;
      color: white;
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    h1 { text-align: center; }
    textarea, select, input {
      width: 100%;
      margin: 6px 0;
      padding: 10px;
      border-radius: 8px;
      border: none;
    }
    button {
      width: 100%;
      padding: 12px;
      background: #3b82f6;
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      margin-top: 10px;
    }
    .box {
      background: #111827;
      padding: 15px;
      border-radius: 14px;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>

<h1>üé¨ Coraz√≥n Studio AI</h1>

<div class="box">
  <h3>üí¨ Chat</h3>
  <textarea id="chatInput" placeholder="Escribe tu mensaje"></textarea>
  <button onclick="sendChat()">Enviar</button>
  <p id="chatReply"></p>
</div>

<div class="box">
  <h3>üñºÔ∏è Im√°genes</h3>
  <textarea id="imgPrompt" placeholder="Describe la imagen"></textarea>
  <button onclick="genImage()">Generar imagen</button>
</div>

<div class="box">
  <h3>üé• Video</h3>
  <select id="videoMode">
    <option value="reels">Modo A: Reels (texto animado)</option>
    <option value="runway">Modo B: Video realista (Runway)</option>
    <option value="pika">Modo C: Video realista (Pika)</option>
  </select>
  <textarea id="videoText" placeholder="Texto o descripci√≥n del video"></textarea>
  <button onclick="genVideo()">Generar video</button>
</div>

<script>
const API = localStorage.getItem("backend") || "";

async function sendChat() {
  const msg = document.getElementById("chatInput").value;
  const r = await fetch(API + "/chat", {
    method: "POST",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify({message: msg})
  });
  const d = await r.json();
  document.getElementById("chatReply").innerText = d.reply;
}

async function genImage() {
  const p = document.getElementById("imgPrompt").value;
  await fetch(API + "/image", {
    method: "POST",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify({prompt: p})
  });
  alert("Imagen solicitada");
}

async function genVideo() {
  const mode = document.getElementById("videoMode").value;
  const text = document.getElementById("videoText").value;
  await fetch(API + "/video", {
    method: "POST",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify({mode, text})
  });
  alert("Video solicitado");
}
</script>

</body>
</html>
